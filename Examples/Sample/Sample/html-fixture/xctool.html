<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>
      xctool : NSHipster
    </title>
    <meta name="description" content=
    "NSHipster is a journal of the overlooked bits in Objective-C and Cocoa. Updated weekly.">
    <meta name="author" content="Mattt Thompson">
    <meta name="revisit-after" content="3 days">
    <meta name="viewport" content="width=device-width">
    <link rel="license" href=
    "http://creativecommons.org/licenses/by-nc/3.0/">
    <link rel="alternate" hreflang="en-us" href=
    "http://nshipster.com">
    <link rel="alternate" hreflang="zh-Hans" href=
    "http://nshipster.cn">
    <link rel="alternate" hreflang="x-default" href=
    "http://nshipster.com">
    <link rel="alternate" type="application/rss+xml" title="RSS"
    href="http://nshipster.com/feed.xml">
    <link rel="stylesheet" href="/css/screen.css" type="text/css">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@NSHipster">
    <meta name="twitter:creator" content="@mattt">
    <meta name="twitter:title" content="xctool">
    <meta name="twitter:description" content=
    "Control the build system, and you control the destiny of the language, its ecosystem, and community.">
    <meta content="NSHipster" property="og:site_name">
    <meta content="xctool" property="og:title">
    <meta content="http://nshipster.com/xctool/" property="og:url">
    <meta content=
    "Control the build system, and you control the destiny of the language, its ecosystem, and community."
    property="og:description">
    <meta property="st:title" content="xctool">
    <meta property="st:type" content="article">
    <script type="text/javascript">
var _sf_startpt=(new Date()).getTime()
    </script>
    <script onload="try{Typekit.load();}catch(e){}" src=
    "//use.typekit.net/agk0bgp.js" type="text/javascript">
</script>
  </head>
  <body>
    <div role="container">
      <header role="banner">
        <h1 id="logo">
          <a href="/"><acronym title="NeXTSTEP/Sun">NS</acronym>
          <strong>Hipster</strong> <img id="moustache" src=
          "//cdn.nshipster.com/images/moustache.svg" width="200"
          height="150" data-author=
          "http://thenounproject.com/bnhw"></a>
        </h1>
        <form>
          <input type="text" id="st-search-input" class=
          "st-search-input">
        </form>
      </header>
      <div id="main" role="main">
        <article>
          <header>
            <h1>
              <a href="/xctool/">xctool</a>
            </h1>
            <h2>
              Written by <a href="http://mattt.me/">Mattt
              Thompson</a> on <time pubdate=
              "2013-11-04 00:00:00 -0800">Nov 4<span>th</span>,
              2013</time>
            </h2>
          </header>
          <div class="content" data-swiftype-index="true">
            <blockquote>
              <p>
                Control the build system, and you control the
                destiny of the language, its ecosystem, and
                community.
              </p>
            </blockquote>
            <p>
              Objective-C has changed so very much in such a very
              short timespan. In just a few short years, the
              language has gone from humdrum NeXT vestige to a
              <a href=
              "http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html">
              position of commanding influence</a>. A significant
              portion of these prolific contributions from the open
              source community for Objective-C has been directly
              enabled and encouraged by increased ownership around
              tooling.
            </p>
            <p>
              <a href="http://cocoapods.org">CocoaPods</a>, in
              particular, exemplifies the compounding influences of
              technology and community. Now two years into the
              project, there are over 2,700 community-submitted
              libraries and frameworks that can be integrated into
              your own project with a simple <code>pod
              install</code> command.
            </p>
            <p>
              Dependency management is just one of the many aspects
              of iOS and Mac OS X development that have been
              dramatically improved by the community. Other
              examples include <a href=
              "http://nomad-cli.com">provisioning and distribution
              automation</a>, <a href=
              "http://www.quickradar.com">bug reporting</a>, and
              <a href="http://cocoadocs.org">documentation</a>.
            </p>
            <p>
              But this week, our focus is on a tool that redefines
              the actual build process itself, to serve as the
              foundation for a new generation of tooling and
              integration: <code>xctool</code>.
            </p>
            <hr>
            <p>
              <a href=
              "https://github.com/facebook/xctool"><code>xctool</code></a>
              is an open source project by <a href=
              "https://github.com/fpotter">Fred Potter</a> that
              came from his work on build system automation at
              <a href="https://github.com/facebook">Facebook</a>.
              It is a drop-in replacement for <a href=
              "https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/xcodebuild.1.html">
              <code>xcodebuild</code></a>, the utility underlying
              Xcode.app itself.
            </p>
            <p>
              When you click "Build &amp; Run" in Xcode, all of the
              project, build target, and scheme settings are passed
              to <code>xcodebuild</code>, which invokes build
              commands to create and then launch an
              <code>.ipa</code> executable on the device or
              simulator.
            </p>
            <p>
              Don't get me wrong—it's a <em>blessing</em> that
              things work in this way, instead of, say, Xcode
              wrapping its own private build system in a way that
              was inaccessible from outside the application. But
              anyone who has ever attempted to interact with
              <code>xcodebuild</code> from Terminal.app can attest
              to its... less-than-streamlined experience.
            </p>
            <p>
              Rather than belabor the point by enumerating all of
              the flaws in this decade-old utility, let's cut to
              the hero of the story—XCtool—to show how it improves
              on the status quo:
            </p>
            <h2>
              Aesthetics &amp; Style Points
            </h2>
            <p>
              The first you'll notice about <code>xctool</code> is
              its gorgeous, colorized output.
            </p>
            <p>
              <img src=
              "http://nshipster.s3.amazonaws.com/xctool-example.gif"
              alt="xctool in Action">
            </p>
            <p>
              As consumers of Apple hardware and software
              ourselves, the role of design cannot be under-stated.
              In this respect, <code>xctool</code> absolutely nails
              it. Every step of the build process is neatly
              organized and reported in a way that is
              understandable and visually appealing, with ANSI
              colorization and a splash of Unicode ornamentation.
            </p>
            <p>
              But xctool's beauty is not just skin-deep: build
              progress can also be reported in formats that can be
              read by other tools:
            </p>
            <div class="highlight">
              <pre>
<code class="text language-text" data-lang=
"text">xctool -reporter plain:output.txt build
</code>
</pre>
            </div>
            <h4>
              Reporters
            </h4>
            <ul>
              <li>
                <code>pretty</code>: (<em>default</em>) a
                text-based reporter that uses ANSI colors and
                unicode symbols for pretty output.
              </li>
              <li>
                <code>plain</code>: like <code>pretty</code>, but
                with with no colors or Unicode.
              </li>
              <li>
                <code>phabricator</code>: outputs a JSON array of
                build/test results which can be fed into the
                <a href="http://phabricator.org">Phabricator</a>
                code-review tool.
              </li>
              <li>
                <code>junit</code>: produces a <a href=
                "http://junit.org">JUnit</a>/<a href=
                "http://xunit.codeplex.com">xUnit</a> compatible
                XML file with test results.
              </li>
              <li>
                <code>json-stream</code>: a stream of build/test
                events as JSON dictionaries, one per line (example
                output).
              </li>
              <li>
                <code>json-compilation-database</code>: outputs a
                <a href=
                "http://clang.llvm.org/docs/JSONCompilationDatabase.html">
                JSON Compilation Database</a> of build events which
                can be used by <a href=
                "http://clang.llvm.org/docs/LibTooling.html">Clang
                Tooling</a> based tools, e.g. <a href=
                "http://oclint.org">OCLint</a>.
              </li>
            </ul>
            <h2>
              Build System Integration
            </h2>
            <p>
              Another major improvement over
              <code>xcodebuild</code> is that <code>xctool</code>
              will run application tests in your project in the
              same way Xcode.app does (<code>xcodebuild</code>
              can't discern which targets in your scheme are test
              targets, let alone run them in the simulator)
            </p>
            <p>
              For this reason alone, xctool has great implications
              for the emerging discipline of continuous integration
              testing within the Objective-C community.
            </p>
            <h3>
              Travis CI
            </h3>
            <p>
              <a href="https://travis-ci.org">Travis CI</a> offers
              free continuous integration services for open source
              projects (as well as a <a href=
              "http://travis-ci.com">paid plan for commercial
              software</a>), and is rather unique for supporting
              Objective-C. It can be configured to run your test
              suite on every <code>git push</code> to GitHub (or
              your favorite SCM host), and will notify you if your
              most recent change-set breaks the build.
            </p>
            <p>
              To add Travis CI to your own Objective-C project,
              <a href=
              "http://about.travis-ci.org/docs/user/getting-started/">
              create an account and webservice hook</a>, and create
              a <code>.travis.yml</code> file in your repository:
            </p>
            <h4>
              .travis.yml
            </h4>
            <div class="highlight">
              <pre>
<code class="yaml language-yaml" data-lang="yaml"><span class=
"l-Scalar-Plain">language</span><span class=
"p-Indicator">:</span> <span class=
"l-Scalar-Plain">objective-c</span>
<span class="l-Scalar-Plain">before_install</span><span class=
"p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class=
"l-Scalar-Plain">brew update</span>
    <span class="p-Indicator">-</span> <span class=
"l-Scalar-Plain">brew install xctool</span>
<span class="l-Scalar-Plain">script</span><span class=
"p-Indicator">:</span> <span class=
"l-Scalar-Plain">xctool -workspace MyApp.xcworkspace -scheme MyApp test</span>
</code>
</pre>
            </div>
            <h3>
              OCLint
            </h3>
            <p>
              <a href="http://oclint.org">OCLint</a> is a static
              code analyzer that inspects Objective-C (as well as C
              and C++) code for common sources of problems, like
              empty
              <code>if</code>/<code>else</code>/<code>try</code>/<code>catch</code>/<code>finally</code>
              statements,unused local variables and parameters,
              complicated code with high NCSS or cyclomatic / NPath
              complexity, redundant code, code smells, and other
              bad practices.
            </p>
            <p>
              Remember <code>xctool</code>'s
              <code>json-compilation-database</code> reporter
              option? Well, that output <a href=
              "http://docs.oclint.org/en/dev/guide/xctool.html">can
              be read directly</a> by OCLint to do its magical
              static analysis.
            </p>
            <p>
              At the time of writing, there is still a ways to go
              before this becomes widely adopted, but my hope is
              that, now that the cat is out of the bag, some
              enterprising individuals might work together to make
              an insanely great experience around this promising
              tool.
            </p>
            <hr>
            <p>
              Just as with the growth population within cities,
              infrastructure makes all of difference. One way or
              another, whether by local <a href=
              "http://en.wikipedia.org/wiki/Commissioners'_Plan_of_1811">
              government mandate</a>, <a href=
              "http://en.wikipedia.org/wiki/Kowloon_Walled_City">emergent
              self-organization</a>, or somewhere in-between,
              environments are changed to accommodate this growth.
            </p>
            <p>
              Objective-C has and continues to undergo rapid growth
              based on the popularity of iOS. It is up to the
              community, in working with (and sometimes against)
              Apple to create infrastructure necessary to integrate
              so many new developers. How successful we are in this
              respect determines how we understand and communicate
              our roles and responsibilities as professional
              developers.
            </p>
            <p>
              Are we clumsy amateurs, or do we take an active role
              in refining our craft?
            </p>
            <p>
              xctool, like so many other tools from the community,
              provide hope and, indeed, inspiration about the
              future of the language and its ecosystem. Let's
              continue to build upon these tools, to create a
              developer experience that we can be proud of.
            </p>
          </div>
          <aside>
            <a href="https://twitter.com/share" class=
            "twitter-share-button" data-url=
            "http://nshipster.com/xctool/" data-via="NSHipster"
            data-size="large">Tweet</a> <script type=
            "text/javascript">
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
            </script>
          </aside>
          <footer id="book" class="promotion">
            <a href="https://gum.co/cfhipsterref"></a>
            <div id="cfhipsterref-cover"></div>
            <div>
              <hgroup>
                <h1>
                  <a href=
                  "https://gum.co/cfhipsterref">CFHipsterRef:
                  Low-Level Programming on<br>
                  iOS &amp; Mac OS X</a>
                </h1>
                <h2>
                  Available May 27th, 2014
                </h2>
              </hgroup>
              <p>
                Perfect for intermediate and expert developers
                wanting to take a deeper dive into advanced topics,
                <em>CFHipsterRef: Low-Level Programming on iOS
                &amp; Mac OS X</em> covers the core technologies
                powering Cocoa, Objective-C, and the operating
                system itself, including Core Bluetooth,
                Accelerate, and the Objective-C runtime.
              </p><button onclick=
              "javascript:window.location.href='https://gum.co/cfhipsterref'">Pre-Order
              Now</button>
            </div>
          </footer>
        </article>
      </div>
      <footer role="contentinfo">
        <section class="credits colophon">
          <p>
            Created by <a href="http://mattt.me">Mattt
            Thompson</a>, and released under a <a href=
            "http://creativecommons.org/licenses/by-nc/3.0/" rel=
            "license">Creative Commons BY-NC License</a>. <a href=
            "https://plus.google.com/106751358503565042647?rel=author"
            style="display: none;"></a>
          </p>
          <p>
            Articles also available in <a href=
            "http://nshipster.cn" hreflang="zh-Hans">中文</a>.
          </p>
        </section>
        <aside class="links">
          <a href="https://github.com/NSHipster/articles/issues"
          class="icon-github" title="Pull Requests Welcome"
          aria-hidden="true"></a> <a href="/feed.xml" class=
          "icon-feed" title="RSS" aria-hidden="true"></a>
        </aside>
        <section class="archive" role="navigation">
          <div>
            <h2>
              Foundation
            </h2>
            <ul>
              <li>
                <a href="/nsurl/">NSURL /<br>
                NSURLComponents</a>
              </li>
              <li>
                <a href=
                "/nstemporarydirectory/">NSTemporaryDirectory /<br>
                NSItemReplacementDirectory /<br>
                mktemp(3)</a>
              </li>
              <li>
                <a href="/nsrange/">NSRange</a>
              </li>
              <li>
                <a href=
                "/nsnotification-and-nsnotificationcenter/">NSNotification
                &amp;<br>
                NSNotificationCenter</a>
              </li>
              <li>
                <a href="/nsfilemanager/">NSFileManager</a>
              </li>
              <li>
                <a href="/nsformatter/">NSFormatter</a>
              </li>
              <li>
                <a href="/nserror/">NSError</a>
              </li>
              <li>
                <a href="/key-value-observing/">Key-Value
                Observing</a>
              </li>
              <li>
                <a href="/nshashtable-and-nsmaptable/">NSHashTable
                &amp;<br>
                NSMapTable</a>
              </li>
              <li>
                <a href="/nspredicate/">NSPredicate</a>
              </li>
              <li>
                <a href="/nsexpression/">NSExpression</a>
              </li>
              <li>
                <a href="/enumerators/">NSFastEnumeration /<br>
                NSEnumerator /<br>
                -enumerateObjectsUsingBlock:</a>
              </li>
              <li>
                <a href="/uuid-udid-unique-identifier/">NSUUID
                /<br>
                CFUUIDRef /<br>
                UIDevice -uniqueIdentifier /<br>
                -identifierForVendor</a>
              </li>
              <li>
                <a href="/nsdatadetector/">NSDataDetector</a>
              </li>
              <li>
                <a href="/nscoding/">NSCoding / NSKeyedArchiver</a>
              </li>
              <li>
                <a href="/nssecurecoding/">NSSecureCoding</a>
              </li>
              <li>
                <a href=
                "/nsassertionhandler/">NSAssertionHandler</a>
              </li>
              <li>
                <a href="/nsurlcache/">NSURLCache</a>
              </li>
              <li>
                <a href="/nsvalue/">NSValue</a>
              </li>
              <li>
                <a href="/nslocalizedstring/">NSLocalizedString</a>
              </li>
              <li>
                <a href="/instancetype/">instancetype</a>
              </li>
              <li>
                <a href="/kvc-collection-operators/">KVC Collection
                Operators</a>
              </li>
              <li>
                <a href="/nsorderedset/">NSOrderedSet</a>
              </li>
              <li>
                <a href="/ns_enum-ns_options/">NS_ENUM &amp;
                NS_OPTIONS</a>
              </li>
              <li>
                <a href=
                "/nsvaluetransformer/">NSValueTransformer</a>
              </li>
              <li>
                <a href="/nsurlprotocol/">NSURLProtocol</a>
              </li>
              <li>
                <a href=
                "/nslinguistictagger/">NSLinguisticTagger</a>
              </li>
              <li>
                <a href="/nscharacterset/">NSCharacterSet</a>
              </li>
              <li>
                <a href="/nslocale/">NSLocale</a>
              </li>
              <li>
                <a href="/nsoperation/">NSOperation</a>
              </li>
              <li>
                <a href=
                "/nsincrementalstore/">NSIncrementalStore</a>
              </li>
              <li>
                <a href="/nsdatecomponents/">NSDateComponents</a>
              </li>
              <li>
                <a href="/nssortdescriptor/">NSSortDescriptor</a>
              </li>
              <li>
                <a href="/nscache/">NSCache</a>
              </li>
              <li>
                <a href="/nsindexset/">NSIndexSet</a>
              </li>
            </ul>
          </div>
          <div>
            <h2>
              CoreFoundation
            </h2>
            <ul>
              <li>
                <a href="/cfbag/">CFBag</a>
              </li>
              <li>
                <a href="/cfstringtransform/">CFStringTransform</a>
              </li>
            </ul>
          </div>
          <div>
            <h2>
              CoreGraphics
            </h2>
            <ul>
              <li>
                <a href="/cggeometry/">CGGeometry</a>
              </li>
            </ul>
          </div>
          <div>
            <h2>
              UIKit
            </h2>
            <ul>
              <li>
                <a href=
                "/launch-options/">UIApplicationDelegate<br>
                launchOptions</a>
              </li>
              <li>
                <a href="/uimenucontroller/">UIMenuController</a>
              </li>
              <li>
                <a href="/uiappearance/">UIAppearance</a>
              </li>
              <li>
                <a href=
                "/uilocalizedindexedcollation/">UILocalizedIndexedCollation</a>
              </li>
              <li>
                <a href="/uicollectionview/">UICollectionView</a>
              </li>
              <li>
                <a href="/uiaccessibility/">UIAccessibility</a>
              </li>
            </ul>
          </div>
          <div>
            <h2>
              Objective-C
            </h2>
            <ul>
              <li>
                <a href="/namespacing/">Namespacing</a>
              </li>
              <li>
                <a href="/extended-file-attributes/">Extended File
                Attributes</a>
              </li>
              <li>
                <a href="/equality/">Equality</a>
              </li>
              <li>
                <a href="/random/">rand(3) / random(3) /
                arc4random(3) / et al.</a>
              </li>
              <li>
                <a href="/object-subscripting/">Object
                Subscripting</a>
              </li>
              <li>
                <a href="/bool/">BOOL / bool / Boolean /
                NSCFBoolean</a>
              </li>
              <li>
                <a href="/c-storage-classes/">C Storage Classes</a>
              </li>
              <li>
                <a href="/type-encodings/">Type Encodings</a>
              </li>
              <li>
                <a href="/__attribute__/">__attribute__</a>
              </li>
              <li>
                <a href="/nil/">nil / Nil / NULL / NSNull</a>
              </li>
              <li>
                <a href="/at-compiler-directives/">@</a>
              </li>
              <li>
                <a href="/pragma/">#pragma</a>
              </li>
            </ul>
          </div>
          <div>
            <h2>
              Open Source
            </h2>
            <ul>
              <li>
                <a href="/xctool/">xctool</a>
              </li>
              <li>
                <a href="/afnetworking-2/">AFNetworking 2.0</a>
              </li>
              <li>
                <a href="/core-data-libraries-and-utilities/">Core
                Data Libraries &amp; Utilities</a>
              </li>
              <li>
                <a href="/gpuimage/">GPUImage</a>
              </li>
              <li>
                <a href="/reactivecocoa/">ReactiveCocoa</a>
              </li>
            </ul>
          </div>
          <div>
            <h2>
              Testing
            </h2>
            <ul>
              <li>
                <a href="/unit-testing/">Unit Testing</a>
              </li>
            </ul>
          </div>
          <div>
            <h2>
              Miscellanea
            </h2>
            <ul>
              <li>
                <a href=
                "/avspeechsynthesizer/">AVSpeechSynthesizer</a>
              </li>
              <li>
                <a href="/empathy/">Empathy</a>
              </li>
              <li>
                <a href=
                "/dictionary-services/">UIReferenceLibraryViewController
                /<br>
                DCSDictionaryRef/<br>
                /usr/share/dict/words</a>
              </li>
              <li>
                <a href="/method-swizzling/">Method Swizzling</a>
              </li>
              <li>
                <a href="/associated-objects/">Associated
                Objects</a>
              </li>
              <li>
                <a href=
                "/mktileoverlay-mkmapsnapshotter-mkdirections/">MKTileOverlay,<br>
                MKMapSnapshotter &amp;<br>
                MKDirections</a>
              </li>
              <li>
                <a href="/stewardship/">Stewardship</a>
              </li>
              <li>
                <a href="/colophon/">Colophon</a>
              </li>
              <li>
                <a href="/new-years-2014/">Reader Submissions -<br>
                New Year's 2014</a>
              </li>
              <li>
                <a href="/multipeer-connectivity/">Multipeer
                Connectivity</a>
              </li>
              <li>
                <a href="/nshipster-quiz-4/">NSHipster Quiz #4</a>
              </li>
              <li>
                <a href=
                "/launch-arguments-and-environment-variables/">Launch
                Arguments &amp;<br>
                Environment Variables</a>
              </li>
              <li>
                <a href="/xcode-key-bindings-and-gestures/">Xcode
                Key Bindings &amp; Gestures</a>
              </li>
              <li>
                <a href="/ios7/">iOS 7</a>
              </li>
              <li>
                <a href="/network-link-conditioner/">Network Link
                Conditioner</a>
              </li>
              <li>
                <a href="/xcode-snippets/">Xcode Snippets</a>
              </li>
              <li>
                <a href="/documentation/">Documentation</a>
              </li>
              <li>
                <a href="/nshipster-quiz-3/">NSHipster Quiz #3</a>
              </li>
              <li>
                <a href="/nshipster-quiz-2/">NSHipster Quiz #2</a>
              </li>
              <li>
                <a href="/mklocalsearch/">MKLocalSearch</a>
              </li>
              <li>
                <a href="/nshipster-quiz-1/">NSHipster Quiz #1</a>
              </li>
              <li>
                <a href="/icloud/">iCloud</a>
              </li>
              <li>
                <a href="/search-kit/">Search Kit</a>
              </li>
              <li>
                <a href="/backrow/">Back Row</a>
              </li>
              <li>
                <a href=
                "/reader-submissions-new-years-2013/">Reader
                Submissions -<br>
                New Year's 2013</a>
              </li>
              <li>
                <a href="/addressbookui/">AddressBookUI</a>
              </li>
            </ul>
          </div>
        </section>
      </footer>
    </div><script type="text/javascript">
var Swiftype = window.Swiftype || {};
    (function() {
      Swiftype.key = 'Q5jNBiR8qVs5xE5dNect';
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.async = true;
      script.src = "//swiftype.com/embed.js";
      var entry = document.getElementsByTagName('script')[0];
      document.getElementsByTagName('script')[0].parentNode.insertBefore(script, entry);
    }());
    </script><script type="text/javascript">
var _gauges = _gauges || [];
    (function() {
      var t   = document.createElement('script');
      t.type  = 'text/javascript';
      t.async = true;
      t.id    = 'gauges-tracker';
      t.setAttribute('data-site-id', '510be6d4108d7b438800005f');
      t.src = '//secure.gaug.es/track.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(t, s);
    })();
    </script>
  </body>
</html>
